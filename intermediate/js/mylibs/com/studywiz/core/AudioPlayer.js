var AudioPlayer=new Class({Implements:Events,initialize:function(a,b){this.id=a;this.parent=b;this.nextAction=new String();this.source=new Object();this.preloader=new createjs.PreloadJS();this.preloader.installPlugin(createjs.SoundJS);console.log("New Audio created")},setSource:function(a){this.source.src=a;this.source.id=this.id},start:function(){console.log("Loading Sound"+this.source);this.preloader.loadFile(this.source,false);this.preloader.load();this.preloader.onComplete=this._loadComplete()},_loadComplete:function(){this.soundInstance=createjs.SoundJS.play(this.source.id);if(!createjs.SoundJS.checkPlugin(true)){alert("Sound plugin issue")}else{this.soundInstance.onComplete=function(){console.log("got audio finished event");this.parent.fireEvent("TIMELINE",{type:"audio.finished",id:this.id,next:this.nextAction})}.bind(this)}}.protect()});